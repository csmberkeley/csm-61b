\begin{blocksection}
\question Define \lstinline$findDuplicatesWithinK$, a procedure which, when
given an \lstinline$int[] array$ and an boundary range $k$, returns a
\lstinline$Set$ of all  duplicates within $k$ indices of each other.

\begin{lstlisting}
findDuplicatesWithinK([1, 2, 3, 1, 4, 3], 3) // {1, 3}
findDuplicatesWithinK([1, 2, 3, 1, 4, 3], 2) // {}
\end{lstlisting}

\ifprintanswers\else
\begin{lstlisting}
public static Set<Integer> findDuplicatesWithinK(int[] array, int k) {



















}
\end{lstlisting}
\fi

\begin{solution}
\begin{lstlisting}
public static Set<Integer> findDuplicatesWithinK(int[] array, int k) {
    Map<Integer,Integer> seen = new HashMap<>();
    Set<Integer> duplicates = new HashSet<>();
    for (int i = 0; i < array.length; i++) {
        if (!seen.containsKey(array[i])) {
            seen.put(array[i], 0);
        }
        if (seen.get(array[i]) > 0) {
            duplicates.add(array[i]);
        }
        seen.put(array[i], seen.get(array[i]) + 1);
        if (i - k >= 0) {
            seen.put(array[i - k], seen.get(array[i - k]) - 1);
        }
    }
    return duplicates;
}
\end{lstlisting}
\end{solution}
\end{blocksection}
